# Question 7
7. The One-Lane Bridge Problem (40 points)
Assume cars from the north, and the south arrive at a one-lane bridge. Cars heading in the same direction can cross the bridge simultaneously, but cars heading in opposite directions cannot.

Develop and implement a multithreaded program in Java or C++ to simulate the actions of the cars. Each car should be a thread that crosses the bridge trips times, first in one direction, then in the other direction, and so on. Use northCars instances of cars that first cross in a northbound direction, and use southCars instances of cars that first cross in a southbound direction. Use a monitor to control entry to the bridge. It should have operations that a car calls to ask permission to cross the bridge and to indicate that it has finished crossing the bridge. Depending on how you program the car processes, you will want to have two or four operations. (After you think about the choices, you will understand what the last sentence means!). Your solution has to ensure the required exclusion, avoid deadlocks, and ensure fairness, i.e., that any car waiting to cross the bridge eventually gets to do so.

Your program should have three command-line arguments for the values of trips, northCars, and southCars. Have the cars sleep for a random amount of time between crossings of the bridge and have them sleep for a smaller random amount of time to simulate the time it takes to cross the bridge. Stop the simulation after each car has crossed the bridge trips times. The output from your program should be a trace of significant events, such as a car wanting to cross the bridge, starting to cross, or leaving the bridge. Each output line should contain a time stamp, the car's identity associated with the event, and a short descriptive message. Write the trace to the standard output.